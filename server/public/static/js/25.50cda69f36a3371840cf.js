webpackJsonp([25],{1102:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={components:{},data:function(){return{loadDisplay:!1,imgArr:[],addImgArr:[],url:"/api/func/pic_describe"}},created:function(){},computed:{},methods:{onCloseImg:function(t){this.imgArr[t].img="",this.imgArr[t].des=""},readPhoto:function(t){var a=this,e=new FileReader;e.onload=function(i){a.addImgArr[t].img=e.result},event.target.files[t]&&e.readAsDataURL(event.target.files[t])},postImg:function(t){var a=this;this.$axios.post(this.url,t).then(function(t){a.loadDisplay=!1;var e=t.data;return e.errCode?a.$message.error("处理异常: "+(t.data.errMsg||t.data.errCode)):(a.addImgArr.forEach(function(t,a){t.des=e.data.list[a].des}),a.imgArr=a.addImgArr.concat(a.imgArr),a.$message.success("处理成功"))})},uploadImg:function(t){this.loadDisplay=!0;var a=new FormData;for(var e in event.target.files){if("length"===e)break;this.addImgArr.push({img:"",des:""}),this.readPhoto(e),a.append("file",event.target.files[e])}this.postImg(a)},onInputImg:function(t){this.addImgArr=[],this.uploadImg(t.target.files)},clickImgBtn:function(){document.getElementById("img-input").click()}}}},1137:function(t,a,e){a=t.exports=e(164)(!1),a.push([t.i,'[data-v-73f4a657]::-webkit-input-placeholder{color:#97a8be}.pd-img-box[data-v-73f4a657]{position:relative;height:300px;width:auto;margin-bottom:10px;left:50%;transform:translateX(-50%)}.pd-tag[data-v-73f4a657]{display:block;width:fit-content;margin-bottom:10px;padding:0 15px;color:#777474;font-size:14px;font-weight:600}.pd-img-container[data-v-73f4a657]{position:relative;display:inline-block;margin:10px 10px 0 0;box-shadow:0 1px 3px rgba(0,0,0,.39)}.dp-img-fork[data-v-73f4a657]{position:absolute;z-index:1;color:#b0aeae;right:5px;top:5px;display:none;cursor:pointer}.pd-img-container:hover .dp-img-fork[data-v-73f4a657]{display:block}.loader[data-v-73f4a657]{position:absolute;width:250px;height:50px;line-height:50px;text-align:center;top:50%;left:50%;transform:translate(-50%,-50%);font-family:helvetica,arial,sans-serif;text-transform:uppercase;font-weight:900;color:#20a0ff;letter-spacing:.2em;z-index:10}.loader[data-v-73f4a657]:after,.loader[data-v-73f4a657]:before{content:"";display:block;width:15px;height:15px;background:#20a0ff;position:absolute;animation:load .7s infinite alternate ease-in-out}.loader[data-v-73f4a657]:before{top:0}.loader[data-v-73f4a657]:after{bottom:0}@keyframes load{0%{left:0;height:30px;width:15px}50%{height:8px;width:40px}to{left:235px;height:30px;width:15px}}',""])},1189:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"table"},[e("div",{staticClass:"crumbs"},[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",[e("i",{staticClass:"el-icon-menu"}),t._v(" 功能")]),t._v(" "),e("el-breadcrumb-item",[t._v("图像自动描述")])],1)],1),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*",multiple:"multiple",id:"img-input"},on:{change:t.onInputImg}}),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.clickImgBtn}},[t._v("上传图片")]),e("br"),t._v(" "),t.loadDisplay?e("div",{staticClass:"loader"},[t._v("处理中...")]):t._e(),t._v(" "),t._l(t.imgArr,function(a,i){return a.des?e("div",{staticClass:"pd-img-container"},[e("i",{staticClass:"el-icon-circle-close dp-img-fork",on:{click:function(a){t.onCloseImg(i)}}}),t._v(" "),e("img",{staticClass:"pd-img-box",attrs:{src:a.img}}),t._v(" "),e("div",{staticClass:"pd-tag"},[e("span",[t._v(t._s(a.des))])])]):t._e()})],2)},staticRenderFns:[]}},1218:function(t,a,e){var i=e(1137);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(378)("1c6b729d",i,!0)},997:function(t,a,e){e(1218);var i=e(377)(e(1102),e(1189),"data-v-73f4a657",null);t.exports=i.exports}});