webpackJsonp([11],{1005:function(t,e,a){a(1220);var l=a(377)(a(1110),a(1191),null,null);t.exports=l.exports},1017:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,closeTransition:Boolean,color:String},methods:{handleClose:function(t){this.$emit("close",t)}}}},1018:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{label:{},lableWidth:{},value:{},prop:{},type:{default:"image"}},data:function(){return{myLabel:this.label||"",myLabelWidth:this.lableWidth||"120px",url:"",name:""}},methods:{updateUrl:function(t){console.log(t),this.$emit("input",t)},onSuccess:function(t,e,a){return console.log("1111",t,e,a),t.errCode||!t.url?this.$message.error("上传失败 "+t.errMsg):(this.value=t.url,this.updateUrl(t.url),this.$message.success("上传成功"))},onCopy:function(t,e){console.log(e),this.$clipboard(e.url),this.$message.success(e.name+" 链接复制成功")}}}},1024:function(t,e,a){e=t.exports=a(164)(!1),e.push([t.i,".upload-demo{padding-left:10px;line-height:normal;vertical-align:middle;display:inline-block}.el-upload--text{border:none;width:auto;height:auto}",""])},1025:function(t,e,a){var l=a(377)(a(1017),a(1028),null,null);t.exports=l.exports},1026:function(t,e,a){a(1029);var l=a(377)(a(1018),a(1027),null,null);t.exports=l.exports},1027:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form-item",{attrs:{label:t.myLabel,"label-width":t.myLabelWidth,prop:t.prop}},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{value:t.value,placeholder:"请输入URL或上传","label-width":"180px"},on:{input:function(e){t.updateUrl(e)}}})],1),t._v(" "),a("el-col",{attrs:{span:1}},[a("el-upload",{staticClass:"upload-demo",attrs:{"on-success":t.onSuccess,"show-file-list":!1,name:t.type,action:"/admin/api/tools/"+t.type+"_upload"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1)],1)],1)],1)},staticRenderFns:[]}},1028:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:t.closeTransition?"":"el-zoom-in-center"}},[a("span",{staticClass:"el-tag",class:[t.type?"el-tag--"+t.type:"",{"is-hit":t.hit}],style:{backgroundColor:t.color}},[t._t("default"),t._v(" "),t.closable?a("i",{staticClass:"el-tag__close el-icon-close",on:{click:t.handleClose}}):t._e()],2)])},staticRenderFns:[]}},1029:function(t,e,a){var l=a(1024);"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);a(378)("35bd6048",l,!0)},1110:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a(1026),i=(a.n(l),a(1025)),n=a.n(i);e.default={components:{ElTag:n.a},data:function(){return{url:"/admin/api/sts_export",docs:[],page:1,limit:10,total:0,date:"",isAdmin:!1,dialogFormLabelWidth:"120px",currentRow:null,form:{},dialogVisible:!1,checkVisible:!1}},created:function(){this.getData(),this.isAdmin=this.$route.query.isAdmin||!1},computed:{},filters:{getLocalDateStr:function(t){var e=function(t){for(var e=""+t;e.length<2;)e="0"+e;return e},a=new Date(t),l=a.getFullYear(),i=a.getMonth()+1,n=a.getDate(),o=a.getHours(),s=a.getMinutes();return l+"-"+e(i)+"-"+e(n)+" "+e(o)+":"+e(s)}},methods:{handleSizeChange:function(t){this.limit=t,this.getData()},handleCurrentChange:function(t){this.page=t,this.getData()},getData:function(){var t=this,e={offset:(t.page-1)*t.limit,limit:t.limit,sort_field:"updateAt"};t.search_field&&(e.search_field=t.search_field),t.search_key&&(e.search_key=t.search_key),t.$axios.get(t.url,{params:e}).then(function(e){for(var a=e.data.data.docs||[],l=0;l<a.length;l++)a[l].wavList=a[l].wavList||[],a[l].result=a[l].result||[],a[l].wavCount=a[l].wavList.length,a[l].versionCount=a[l].result.length,a[l].isWavMarked=a[l].versionCount>0;t.docs=a,t.total=e.data.data.total||0})},delData:function(t){var e=this;e.$axios.post(e.url+"/"+t+"?_op=del").then(function(t){e.getData()})},onDelete:function(t,e){var a=this;this.$confirm("确认删除文档 ["+e.docId+"] 吗？一旦删除不可恢复！！！").then(function(t){a.delData(e._id)}).catch(function(t){})},onExport:function(t,e){var a=this;this.$axios.post(this.url,{date:this.date}).then(function(t){setTimeout(function(){a.getData()},1e3)})},showComfirm:function(){this.comfirmVisible=!0},cancleDialog:function(){this.dialogVisible=!1,this.$refs.form.resetFields()}}}},1139:function(t,e,a){e=t.exports=a(164)(!1),e.push([t.i,".el-alert{padding-top:0;padding-bottom:0}.entry-detail .el-form-item{margin-bottom:0}.entry-detail .el-form-item .el-form-item__label{font-weight:700}.handle-box{margin-bottom:20px}.handle-select{width:120px}.handle-input{width:300px;display:inline-block}.pedia .text-input{width:33%;margin-bottom:10px}.pedia .line-input{width:99.8%;margin-bottom:10px}.pedia .block{display:block;margin-bottom:10px}.pedia .block i{margin-right:8px}.pedia .del-button{border:none;color:#97a8be;padding:5px}.pedia .del-button:hover{color:#20a0ff}",""])},1191:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),t._v(" 工具")]),t._v(" "),a("el-breadcrumb-item",[t._v("语音标注导出管理")])],1)],1),t._v(" "),a("div",{staticClass:"handle-box"},[a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"输入日期(如20180126)"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:t.onExport}},[t._v("导出")])],1),t._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.docs,border:""},on:{"current-change":function(t){}}},[a("el-table-column",{attrs:{prop:"_id",label:"_id",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createAt",label:"任务创建时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"creator",label:"创建人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"导出状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"对应日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalDuration",label:"原始时长(毫秒)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"checkedDuration",label:"有效时长(毫秒)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"total",label:"目录数",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dir",label:"存放路径",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isAdmin,expression:"isAdmin"}],attrs:{size:"small",type:"danger"},on:{click:function(a){t.onDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,100,1e3],"page-size":t.limit,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]}},1220:function(t,e,a){var l=a(1139);"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);a(378)("07b8cbb4",l,!0)}});