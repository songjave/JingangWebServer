webpackJsonp([17],{1004:function(t,e,a){a(1217),a(1216);var i=a(377)(a(1109),a(1188),"data-v-73888769",null);t.exports=i.exports},1109:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},data:function(){return{url:"/admin/api/service",docs:[],page:1,limit:500,total:0,is_search:!1,search_field:"",search_key:"",isAdd:!0,dialogVisible:!1,form:{},dialogFormLabelWidth:"120px"}},created:function(){this.getData()},computed:{data:function(){return this.docs}},methods:{getData:function(){var t=this,e={offset:(t.page-1)*t.limit,limit:t.limit};t.search_field&&(e.search_field=t.search_field),t.search_key&&(e.search_key=t.search_key),t.$axios.get(t.url,{params:e}).then(function(e){t.docs=e.data.data.docs||[],t.total=e.data.data.total||0})},onRefresh:function(){this.getData()},addData:function(){var t=this,e=new FormData;e.append("sid",this.form.sid),e.append("name",this.form.name),e.append("ip",this.form.ip),e.append("port",this.form.port),t.$axios.post(t.url,e).then(function(e){t.getData()})},delData:function(t){var e=this;e.$axios.delete(e.url+"/"+t).then(function(t){e.getData()})},putData:function(){var t=this,e=this.form.sid,a=new FormData;a.append("sid",this.form.sid),a.append("name",this.form.name),a.append("ip",this.form.ip),a.append("port",this.form.port),t.$axios.put(t.url+"/"+e,a).then(function(e){t.getData()})},onAdd:function(){this.form={},this.isAdd=!0,this.showDialog()},onEdit:function(t,e){this.form={name:e.name,sid:e.sid,ip:e.ip,port:e.port},this.isAdd=!1,this.showDialog()},onDelete:function(t,e){var a=this;this.$confirm("确认删除 ["+e.sid+"] 吗？").then(function(t){a.delData(e.sid)}).catch(function(t){})},showDialog:function(){this.dialogVisible=!0},cancelDialog:function(){this.dialogVisible=!1},submitDialog:function(){this.isAdd?this.addData():this.putData(),this.dialogVisible=!1},handleSelectionChange:function(t){this.multipleSelection=t}}}},1135:function(t,e,a){e=t.exports=a(164)(!1),e.push([t.i,"pre{outline:1px solid #ccc;padding:5px;margin:5px}pre span.string{color:green}pre span.number{color:#ff8c00}pre span.boolean{color:blue}pre span.null{color:#f0f}pre span.key{color:red}",""])},1136:function(t,e,a){e=t.exports=a(164)(!1),e.push([t.i,".handle-box[data-v-73888769]{margin-bottom:20px}.handle-select[data-v-73888769]{width:120px}.handle-input[data-v-73888769]{width:300px;display:inline-block}",""])},1188:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),t._v(" 服务管理")]),t._v(" "),a("el-breadcrumb-item",[t._v("人脸识别服务")])],1)],1),t._v(" "),a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"handle-add mr10",attrs:{type:"success",icon:"plus"},on:{click:t.onAdd}},[t._v("添加")]),t._v(" "),a("el-button",{staticClass:"handle-add mr10",attrs:{type:"primary",icon:"setting"},on:{click:t.onRefresh}},[t._v("刷新")])],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.docs,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"sid",label:"id"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"服务名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ip",label:"ip"}}),t._v(" "),a("el-table-column",{attrs:{prop:"port",label:"port"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){t.onEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){t.onDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.isAdd?"添加":"编辑",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"sid","label-width":t.dialogFormLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",readonly:!t.isAdd},model:{value:t.form.sid,callback:function(e){t.$set(t.form,"sid",e)},expression:"form.sid"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"名称","label-width":t.dialogFormLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"ip","label-width":t.dialogFormLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:t.form.ip,callback:function(e){t.$set(t.form,"ip",e)},expression:"form.ip"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"port","label-width":t.dialogFormLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.port,callback:function(e){t.$set(t.form,"port",e)},expression:"form.port"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelDialog}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitDialog}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},1216:function(t,e,a){var i=a(1135);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(378)("6f7f8e92",i,!0)},1217:function(t,e,a){var i=a(1136);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(378)("f19f31b0",i,!0)}});